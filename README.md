# åœ°å›¾æ ‡ç»˜ç¼–è¾‘å™¨ (Map Plotting Editor by AI)

ä¸€ä¸ªåŸºäº Vue 3 + Cesium çš„åœ°å›¾æ ‡ç»˜ç¼–è¾‘å™¨ï¼Œæ”¯æŒå„ç§æ ‡ç»˜èµ„æºæ‹–æ”¾ã€ç»˜åˆ¶ã€å±æ€§ç¼–è¾‘ã€‚
æœ¬å·¥ç¨‹å®Œå…¨ä½¿ç”¨AIè‡ªè¡Œç¼–å†™ä»£ç ã€‚

## ğŸ¨ æˆªå›¾
![æˆªå›¾1](public/images/screenshot01.png)

## âœ… ä¸»è¦åŠŸèƒ½

å¾…å®Œå–„

## ğŸš€ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Vue 3 + Vite
- **3Då¼•æ“**: Cesium
- **æ„å»ºå·¥å…·**: Vite
- **æ ·å¼**: Sass
- **ç½‘ç»œè¯·æ±‚**: Fetch API
- **å·¥å…·åº“**: 
  - Element Plus - ä¸»æµUIç»„ä»¶åº“
  - Lodash - å®ç”¨å·¥å…·å‡½æ•°åº“
  - Day.js - è½»é‡çº§æ—¥æœŸæ—¶é—´åº“
  - Cesium - Cesiumä¸‰ç»´åœ°å›¾å¼•æ“

## ğŸ“ é¡¹ç›®ç»“æ„

```
plotting-editor-by-ai/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/                           # Vue ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ editor/                           # ç¼–è¾‘å™¨ UI ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ PropertyPanel.vue             # å±æ€§é¢æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ Toolbar.vue                   # å·¥å…·æ 
â”‚   â”‚   â”‚   â”œâ”€â”€ EditorFooter.vue              # ç¼–è¾‘å™¨åº•éƒ¨çŠ¶æ€æ 
â”‚   â”‚   â”‚   â”œâ”€â”€ ResourcePanel.vue             # èµ„æºé¢æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ VfsFilePanel.vue              # è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿé¢æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ Inspector.vue                 # å¯¹è±¡æ£€æŸ¥å™¨
â”‚   â”‚   â”œâ”€â”€ property/                         # å„ç§å±æ€§ç¼–è¾‘ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ScenePropertyPane.vue         # åœºæ™¯å±æ€§ç¼–è¾‘é¢æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ BasePropertyPane.vue          # å¯¹è±¡åŸºç¡€å±æ€§ç¼–è¾‘é¢æ¿
â”‚   â”‚   â”œâ”€â”€ dialog/                           # å„ç±»å¯¹è¯æ¡†ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ scene/                            # 3D åœºæ™¯ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ SceneViewer.vue               # ä¸»åœºæ™¯è§†å›¾ï¼ˆåŸºäº Cesiumï¼‰
â”‚   â”œâ”€â”€ composables/                          # Vue Composition API å¯ç»„åˆå‡½æ•°
â”‚   â”‚   â”œâ”€â”€ useScene.js                       # åœºæ™¯ç®¡ç†ï¼ˆCesium 1.132.0ï¼‰
â”‚   â”‚   â”œâ”€â”€ useObjectSelection.js             # å¯¹è±¡é€‰æ‹©åŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ useAssets.js                      # èµ„æºç®¡ç†
â”‚   â”‚   â”œâ”€â”€ useEditorConfig.js                # ç¼–è¾‘å™¨é…ç½®å“åº”å¼çŠ¶æ€ä¸æ“ä½œæ–¹æ³•
â”‚   â”‚   â”œâ”€â”€ static-drive-api.js               # é™æ€æ–‡ä»¶ç³»ç»Ÿå°è£…
â”‚   â”‚   â”œâ”€â”€ vfs-service.js                    # è™šæ‹Ÿæ–‡ä»¶ç³»ç»ŸæœåŠ¡
â”‚   â”œâ”€â”€ core/                                 # æ ¸å¿ƒ Cesium é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ SceneManager.js                   # åœºæ™¯ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ ObjectManager.js                  # å¯¹è±¡ç®¡ç†å™¨
â”‚   â”œâ”€â”€ utils/                                # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ mathUtils.js                      # æ•°å­¦å·¥å…·
â”‚   â”‚   â”œâ”€â”€ geometryUtils.js                  # å‡ ä½•å·¥å…·
â”‚   â”‚   â”œâ”€â”€ fileUtils.js                      # æ–‡ä»¶å¤„ç†å·¥å…·
â”‚   â”œâ”€â”€ constants/                            # å¸¸é‡å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ DEFAULT_VIEWER_OPTIONS.js         # é»˜è®¤Vieweré…ç½®
â”‚   â”‚   â”œâ”€â”€ DEFAULT_CENTER.js                 # é»˜è®¤ä¸­å¿ƒç‚¹é…ç½®ï¼ˆåŒ—äº¬åæ ‡ï¼‰
â”‚   â”‚   â”œâ”€â”€ DEFAULT_CAMERA.js                 # é»˜è®¤ç›¸æœºé…ç½®ï¼ˆå¼•ç”¨DEFAULT_CENTERï¼‰
â”‚   â”œâ”€â”€ App.vue                               # æ ¹ç»„ä»¶ï¼ˆä»…è´Ÿè´£å¼•å…¥Editor.vueï¼‰
â”‚   â”œâ”€â”€ Editor.vue                            # ä¸»ç¼–è¾‘å™¨ç»„ä»¶ï¼ˆåŒ…å«å…¨éƒ¨ä¸šåŠ¡ä¸UIï¼‰
â”‚   â”œâ”€â”€ main.js                               # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ main-func.js                          # åº”ç”¨å…¥å£æ–‡ä»¶ç›¸å…³çš„åŠŸèƒ½å‡½æ•°
â”‚   â”œâ”€â”€ style.scss                            # å…¨å±€æ ·å¼
â”œâ”€â”€ public/                                   # å­˜æ”¾æ— éœ€æ„å»ºçš„é™æ€èµ„æº
â”‚   â”œâ”€â”€ images/                               # å›¾ç‰‡èµ„æºç›®å½•
â”‚   â”œâ”€â”€ vfs/                                  # é™æ€èµ„æºç›®å½•ï¼ˆè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼‰
â”œâ”€â”€ script/                                   # è„šæœ¬
â”‚   â”œâ”€â”€ package.json                          # è„šæœ¬å­é¡¹ç›®é…ç½®
â”‚   â”œâ”€â”€ generate-vfs.js                       # è„šæœ¬ï¼šç”Ÿæˆè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿçš„å…ƒæ•°æ®
â”‚   â”œâ”€â”€ vfs-server.js                         # è„šæœ¬ï¼šè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿåç«¯æœåŠ¡
â”œâ”€â”€ index.html                                # HTML æ¨¡æ¿
â”œâ”€â”€ package.json                              # é¡¹ç›®é…ç½®
â”œâ”€â”€ vite.config.js                            # Vite é…ç½®
â”œâ”€â”€ README.md                                 # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ CESIUM_CHANGELOG.md                       # Cesium ç‰ˆæœ¬æ›´æ–°æ—¥å¿—

```

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### ç»„ä»¶å±‚æ¬¡

1. **ä¸»ç¼–è¾‘å™¨ç»„ä»¶** (`Editor.vue`): è´Ÿè´£æ‰€æœ‰ä¸šåŠ¡é€»è¾‘å’ŒUIçš„é›†æˆ
2. **UI å±‚** (`components/editor/`, `components/dialog/`): è´Ÿè´£ç”¨æˆ·ç•Œé¢å’Œäº¤äº’
3. **åœ°å›¾æ¸²æŸ“å±‚** (`components/scene/`): å¤„ç† Cesium åœ°å›¾åœºæ™¯æ¸²æŸ“å’Œæ˜¾ç¤º
4. **é€»è¾‘å±‚** (`composables/`, `core/`): ä¸šåŠ¡é€»è¾‘å’ŒçŠ¶æ€ç®¡ç†
5. **æœåŠ¡å±‚** (`services/`): æ•°æ®è¯·æ±‚å’Œå¤–éƒ¨æ¥å£
6. **å·¥å…·å±‚** (`utils/`): é€šç”¨å·¥å…·å‡½æ•°

### æŠ€æœ¯ç‰¹ç‚¹

- **å“åº”å¼çŠ¶æ€**: ä½¿ç”¨ Vue 3 Composition API ç®¡ç†åº”ç”¨çŠ¶æ€
- **æ¨¡å—åŒ–è®¾è®¡**: æ¸…æ™°çš„ä»£ç ç»„ç»‡å’ŒèŒè´£åˆ†ç¦»
- **Cesium é›†æˆ**: åŸºäº Cesium 1.132.0ï¼Œä½¿ç”¨æœ€æ–° APIï¼ˆç§»é™¤ ready/readyPromiseï¼Œä½¿ç”¨ baseLayer ç­‰ï¼‰
- **ç±»å‹å®‰å…¨**: è‰¯å¥½çš„ä»£ç ç»“æ„æ”¯æŒ TypeScript è¿ç§»
- **æ€§èƒ½ä¼˜åŒ–**: åˆç†çš„ç»„ä»¶æ‡’åŠ è½½å’Œæ¸²æŸ“ä¼˜åŒ–

### Cesium æ–°ç‰ˆç‰¹æ€§åº”ç”¨

- ä½¿ç”¨ `baseLayer` æ›¿ä»£ `imageryProvider`
- ç§»é™¤å¯¹ `ready` å’Œ `readyPromise` çš„ä¾èµ–
- ä½¿ç”¨ `Scene.verticalExaggeration` æ›¿ä»£ `Globe.terrainExaggeration`
- é‡‡ç”¨ ESM æ¨¡å—åŒ–ï¼Œä¸ä¾èµ–å†…ç½® RequireJS

## ğŸ“‹ å¼€å‘è§„èŒƒ

- éµå¾ª Vue 3 ç»„åˆå¼ API æœ€ä½³å®è·µ
- ä½¿ç”¨ ES6+ è¯­æ³•ç‰¹æ€§
- ç»„ä»¶å‘½åé‡‡ç”¨ PascalCase
- æ–‡ä»¶å’Œç›®å½•å‘½åé‡‡ç”¨ camelCase
- Git æäº¤ä¿¡æ¯æ ¼å¼: `feat: åŠŸèƒ½æè¿°`

## é‡è¦é€»è¾‘

### æ•°æ®ç»“æ„
- ä½¿ç”¨GeoJSONä½œä¸ºæ ‡ç»˜ä¿¡æ¯çš„æ•°æ®ç»“æ„
- åœ¨GeoJSONæ•°æ®ç»“æ„çš„åŸºç¡€ä¸Šå¢åŠ ä¸€äº›è¯¥ç¼–è¾‘å™¨ä¸“ç”¨çš„é™„åŠ ä¿¡æ¯
æ ‡ç»˜ä¿¡æ¯æ•°æ®ç»“æ„å¦‚ä¸‹ï¼š
```js
{
    "type": "FeatureCollection",
    "features": [
        {
            "type": "Feature",
            "geometry": { // éµå¾ªGeoJSONæ ‡å‡†çš„åœ°ç†ä¿¡æ¯
                "type": "Point",
                "coordinates": [116.4, 39.9]
            },
            "properties": {
                "id": "ID",
                "name": "åç§°",
                ...<éµå¾ªGeoJSONæ ‡å‡†çš„è¦ç´ å±æ€§ä¿¡æ¯>
            },
            "userData": {
                ...<ç¼–è¾‘å™¨ä¸“ç”¨çš„è¦ç´ é™„åŠ ä¿¡æ¯>
            }
        }
    ],
    "userData": {
        ...<ç¼–è¾‘å™¨ä¸“ç”¨çš„æ ‡ç»˜é™„åŠ ä¿¡æ¯>
    }
}
```

### åœºæ™¯ç®¡ç† (useScene.js)
- åŸºäº Cesium 1.132.0 çš„åœºæ™¯åˆå§‹åŒ–å’Œç®¡ç†
- æ”¯æŒå®ä½“çš„æ·»åŠ ã€åˆ é™¤å’Œç®¡ç†
- æä¾›åœ°ç†åæ ‡æ‹¾å–åŠŸèƒ½
- é›†æˆåœ°å½¢ã€å¤§æ°”ã€å…‰ç…§ç­‰æ¸²æŸ“æ•ˆæœ

### æ‹–æ‹½æ ‡ç»˜ (SceneViewer.vue)
- æ”¯æŒä»èµ„æºé¢æ¿æ‹–æ‹½æ ‡ç»˜å¯¹è±¡åˆ°åœ°å›¾
- è‡ªåŠ¨è®¡ç®—æ”¾ç½®ä½ç½®çš„åœ°ç†åæ ‡
- æ”¯æŒç‚¹ã€çº¿ã€é¢ã€æ¨¡å‹ç­‰å¤šç§æ ‡ç»˜ç±»å‹

## ğŸ’¯ AI

- æœ¬å·¥ç¨‹åŸºæœ¬ä½¿ç”¨AIè‡ªè¡Œç¼–å†™ä»£ç ï¼›
- å¼€å‘ç¯å¢ƒï¼šVSCode + Cline + GitHub Copilot + Claude 4 / GPT-4.1
- .clinerulesç›®å½•ï¼šå­˜å‚¨AIè§„åˆ™
- .clinetaskç›®å½•ï¼šå­˜å‚¨å†å²å¯¹è¯
